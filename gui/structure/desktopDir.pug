extends desktopTemplate.pug

append container

    section.dirExplorer

        header
            a.dirName #{path}
            a(href='/').closeBtn

        section.main

            section.left

                section.add

                    // @todo Custom button languages
                    button(onclick="dirHandle('dir');")#handleDirBtn Add directory

                section.add

                    button(onclick="dirHandle('special');")#handleSpecialBtn Add special


                // @todo Custom form languages
                div.form#dir
                    form(action="dirManagment" method="post")
                        input(type="text" name="add" value="dir" style="display: none;")
                        input(type="text" name="parent" value=path style="display: none;")
                        input(type="text" name="name" required placeholder="name" autocomplete="off")
                        input(type="submit" value=">" onclick="dirHandle('dir');")

                div.form#special
                    form(action="dirManagment" method="post")
                        input(type="text" name="add" value="special" style="display: none;")
                        input(type="text" name="parent" value=path style="display: none;")
                        input(type="text" name="name" required placeholder="name" autocomplete="off")
                        input(type="submit" value=">" onclick="dirHandle('special');")

            section.right

                for file in dirData
                    if file.type ==='dir'
                        form(method="post" action="/dir" id=dir.path)
                            input(type="text" name="path" value=dir.path style="display: none;")
                            div.icon(onClick=`document.getElementById('${dir.path}').submit();`)
                                img(src=dir.dirImage)
                                br
                                a #{dir.name}
                    else
                        a(href=file.name)
                            div.icon
                                img(src=file.icon)
                                br
                                a #{file.name}
        footer

append innerBottom
    script(src="scripts/desktop/desktopDirHelper.js")